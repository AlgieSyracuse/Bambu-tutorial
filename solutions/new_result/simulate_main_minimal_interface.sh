#!/bin/bash
##########################################################
#     Automatically generated by the PandA framework     #
##########################################################

# COMPONENT: main_minimal_interface

verilator --cc --exe --Mdir HLS_output//verilator_beh/verilator_obj -Wno-fatal -Wno-lint -Ox -sv top.v HLS_output//simulation/testbench_main_minimal_interface_main.cpp HLS_output//simulation/testbench_main_minimal_interface_tb.v --top-module main_minimal_interface_tb
if [ $? -ne 0 ]; then
   exit 1;
fi


ln -s ../../../HLS_output/ HLS_output//verilator_beh/verilator_obj
make -C HLS_output//verilator_beh/verilator_obj -j4 OPT_FAST="-O1 -fstrict-aliasing" -f Vmain_minimal_interface_tb.mk Vmain_minimal_interface_tb

HLS_output//verilator_beh/verilator_obj/Vmain_minimal_interface_tb 2>&1 | tee HLS_output//verilator_beh/main_minimal_interface_verilator.log

cat HLS_output//verilator_beh/main_minimal_interface_verilator.log


